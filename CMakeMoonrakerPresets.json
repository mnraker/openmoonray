{
    "version": 4,
    "configurePresets": [
        {
            "name": "rez-env",
            "hidden": true,
            "warnings" : {
                "dev" : false
            },
            "environment": {
                "DEPS_ROOT"                     : "${sourceParentDir}/installs",
                "BUILD_DIR"                     : "${sourceParentDir}/build",
                "Boost_ROOT"                    : "$env{REZ_BOOST_ROOT}",
                "Libuuid_ROOT"                  : "$env{REZ_LIBUUID_ROOT}",
                "CppUnit_ROOT"                  : "$env{REZ_CPPUNIT_ROOT}",
                "ISPC"                          : "$env{REZ_ISPC_ROOT}/bin/ispc",
                "JsonCpp_ROOT"                  : "$env{REZ_JSONCPP_ROOT}",
                "Libcurl_ROOT"                  : "$env{REZ_LIBCURL_ROOT}",
                "Log4cplus_ROOT"                : "$env{REZ_LOG4CPLUS_ROOT}",
                "LUA_DIR"                       : "$env{REZ_LUA_ROOT}",
                "OpenSubDiv_ROOT"               : "$env{REZ_OPENSUBDIV_ROOT}",
                "OpenVDB_ROOT"                  : "$env{REZ_OPENVDB_ROOT}",
                "OPTIX_ROOT"                    : "$env{OPTIX_ROOT_DIR}",
                "PXR_USD_LOCATION"              : "$env{REZ_OPENUSD_ROOT}",
                "PXR_INCLUDE_DIRS"              : "$env{REZ_OPENUSD_ROOT}/include",
                "Random123_ROOT"                : "$env{REZ_RANDOM123_ROOT}",
                "ZLIB_ROOT"                     : "$env{REZ_ZLIB_ROOT}",
                "Embree_DIR"                    : "$env{REZ_EMBREE_ROOT}/lib/cmake/embree-$env{REZ_EMBREE_VERSION}",
                "LIBMICROHTTPD_ROOT"            : "$env{REZ_MICROHTTPD_ROOT}",
                "JPEG_ROOT"                     : "$env{REZ_LIBJPEGTURBO_ROOT}",
                "QT_ROOT"                       : "$env{REZ_QT_ROOT}",
                "Python_ROOT_DIR"               : "$env{REZ_PYTHON_ROOT}",
                "Python3_ROOT_DIR"              : "$env{REZ_PYTHON_ROOT}",
                "TBB_ROOT"                      : "$env{REZ_TBB_ROOT}",
                "OpenImageDenoise_DIR"          : "$env{REZ_OIDN_ROOT}/lib/cmake/OpenImageDenoise-$env{REZ_OIDN_VERSION}",
                "Freetype_ROOT"                 : "$env{REZ_FREETYPE_ROOT}",
                "OpenEXR_DIR"                   : "$env{REZ_OPENEXR_ROOT}/lib/cmake/OpenEXR",
                "Imath_DIR"                     : "$env{REZ_IMATH_ROOT}/lib/cmake/Imath",
                "MaterialX_DIR"                 : "$env{REZ_MATERIALX_ROOT}/lib/cmake/MaterialX",
                "OpenColorIO_DIR"               : "$env{REZ_OPENCOLORIO_ROOT}/lib/cmake/OpenColorIO"
            },
            "cacheVariables": {
                "CMAKE_PREFIX_PATH": "$env{DEPS_ROOT}",
                "Python_EXECUTABLE": "python",
                "Python3_EXECUTABLE": "python",
                "ABI_VERSION": "0",
                "Python_FIND_STRATEGY": "LOCATION",
                "Python3_FIND_STRATEGY": "LOCATION",
                "BOOST_PYTHON_COMPONENT_NAME": "python$env{REZ_PYTHON_MAJOR_VERSION}$env{REZ_PYTHON_MINOR_VERSION}",
                "Python_MAJOR_VERSION": "$env{REZ_PYTHON_MAJOR_VERSION}",
                "Python3_MAJOR_VERSION": "$env{REZ_PYTHON_MAJOR_VERSION}",
                "Python_MINOR_VERSION": "$env{REZ_PYTHON_MINOR_VERSION}",
                "Python3_MINOR_VERSION": "$env{REZ_PYTHON_MINOR_VERSION}"
            }
        },
        {
            "name": "linux-rez",
            "hidden": true,
            "inherits": "rez-env",
            "cacheVariables": {
                "CMAKE_INSTALL_LIBDIR": "lib",
                "OPENSSL_INCLUDE_DIR": "/usr/include/openssl3",
                "OPENSSL_CRYPTO_LIBRARY": "/usr/lib64/libcrypto.so.3",
                "OPENSSL_SSL_LIBRARY": "/usr/lib64/libssl.so.3"
            }
        },
        {
            "name": "windows-rez",
            "hidden": true,
            "inherits": "rez-env",
            "binaryDir": "$env{BUILD_DIR}",
            "cacheVariables": {
                "OPENSSL_ROOT_DIR": "$env{REZ_PYTHON_ROOT}"
            },
            "generator": "Visual Studio 17"
        },
        {
            "name": "linux-rez-release",
            "displayName": "Linux Rez Release",
            "inherits": "linux-rez",
            "binaryDir": "$env{BUILD_DIR}/release",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "CMAKE_INSTALL_PREFIX": "${sourceParentDir}/installs/vfx$env{REZ_VFXPLATFORM_MAJOR_VERSION}/release/openmoonray",
                "MOONRAY_USE_OPTIX": "NO"
            },
            "generator": "Unix Makefiles"
        },
        {
            "name": "linux-rez-debug",
            "displayName": "Linux Rez Debug",
            "inherits": "linux-rez",
            "binaryDir": "$env{BUILD_DIR}/debug",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "CMAKE_INSTALL_PREFIX": "${sourceParentDir}/installs/vfx$env{REZ_VFXPLATFORM_MAJOR_VERSION}/debug/openmoonray",
                "MOONRAY_USE_OPTIX": "NO"
            },
            "generator": "Unix Makefiles"
        },
        {
            "name": "windows-rez-release",
            "displayName": "Windows Rez Release",
            "inherits": "windows-rez",
            "binaryDir": "$env{BUILD_DIR}/release",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "CMAKE_INSTALL_PREFIX": "${sourceParentDir}/installs/vfx$env{REZ_VFXPLATFORM_MAJOR_VERSION}/release/openmoonray",
                "MOONRAY_USE_OPTIX": "NO"
            },
            "generator": "Visual Studio 17"
        },
        {
            "name": "windows-rez-debug",
            "displayName": "Windows Rez Debug",
            "inherits": "windows-rez",
            "binaryDir": "$env{BUILD_DIR}/debug",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "CMAKE_INSTALL_PREFIX": "${sourceParentDir}/installs/vfx$env{REZ_VFXPLATFORM_MAJOR_VERSION}/debug/openmoonray",
                "MOONRAY_USE_OPTIX": "NO"
            },
            "generator": "Visual Studio 17"
        }
    ],
    "buildPresets": [
        {
            "name": "linux-rez-release",
            "displayName": "Linux Rez Release",
            "configurePreset": "linux-rez-release",
            "configuration": "Release",
            "targets": ["install"]
        },
        {
            "name": "linux-rez-debug",
            "displayName": "Linux Rez debug",
            "configurePreset": "linux-rez-debug",
            "configuration": "Debug",
            "targets": ["install"]
        },
        {
            "name": "windows-rez-release",
            "displayName": "Windows Rez Release",
            "configurePreset": "windows-rez-release",
            "configuration": "Release",
            "targets": ["install"]
        },
        {
            "name": "windows-rez-debug",
            "displayName": "Windows Rez Debug",
            "configurePreset": "windows-rez-debug",
            "configuration": "Debug",
            "targets": ["install"]
        }
    ]
}
